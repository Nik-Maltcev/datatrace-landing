# Agent Guide

## Purpose
Этот файл описывает основные артефакты репозитория и помогает быстрее разобраться в проекте DataTrace.

## Deployment
- Сервис развернут на Railway; приложению достаточно пуша в GitHub, чтобы обновиться через привязанный деплой.
- Основные автодеплои запускаются при пушах в `main`, fallback — ручной запуск билда через Railway Dashboard.

## Repository Structure
- `apps/web` — основной фронтенд на Next.js (App Router) с React 19 и TypeScript.
- `apps/api` — не используется в текущей версии, оставлен в репозитории в качестве архивной заготовки.
- `public` — статические ассеты, используемые веб-приложением.
- `node_modules` — установленные зависимости проекта (не редактировать вручную).
- `package.json`, `pnpm-lock.yaml` — корневые файлы зависимостей и скриптов.
- Дополнительные руководства (`README.md`, `SETUP_GUIDE.md`, `TESTING_GUIDE.md` и др.) — смежная документация по настройке и эксплуатации.

## Key Documentation
- [project_doc.md](project_doc.md) — основная документация по продукту, технологиям, архитектуре, тарифам и интеграциям. Содержит детальное описание пользовательских сценариев, API-роутов, структуры приложения и требований к окружению.

## Usage Notes
1. Перед началом работы изучите `project_doc.md`, чтобы понимать контекст и бизнес-логику.
2. Следуйте существующей структуре директорий и конвенциям кода, описанным в документации.
3. Для запуска локального окружения используйте `pnpm install` и `pnpm dev`. Дополнительные команды и переменные окружения описаны в `project_doc.md` и `README.md`.

## Known Issues
- Блокирующих проблем не зафиксировано (2025-09-25).

## Change Log
- *2025-09-25:* Добавлены заметки про Railway/GitHub деплой, исправлен `apps/web/app/api/user-profile/route.ts` (удалено повторное объявление `normalizedPlan`), обновлён success-флоу (в success URL прокидывается email) и добавлен авто-рефреш тарифа при возвращении на вкладку.
- *2024-XX-XX:* Базовый шаблон создан и дополнен ссылками на существующую структуру проекта и документацию.
